<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ö–æ–Ω—Ç–∞–∫—Ç—ã</title>
    <link rel="stylesheet" href="../style/styles.css" />
  </head>
  <body>
    <div class="page">
      <header class="header">
        <div class="header__top">
          <h1 class="header__title">Slay network</h1>
          <div class="theme-switcher">
            <button
              class="theme-switcher__button"
              id="themeToggle"
              aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É"
            >
              <span class="theme-switcher__icon theme-switcher__icon--light"
                >ü§ç</span
              >
              <span class="theme-switcher__icon theme-switcher__icon--dark"
                >üñ§</span
              >
            </button>
          </div>
        </div>
      </header>
      <nav class="nav">
        <ul class="nav__list">
          <li class="nav__item">
            <a class="nav__link" href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
          </li>
          <li class="nav__item">
            <a class="nav__link" href="news.html">–ù–æ–≤–æ—Å—Ç–∏</a>
          </li>
          <li class="nav__item">
            <a class="nav__link" href="practices.html">–ü—Ä–∞–∫—Ç–∏–∫–∏</a>
          </li>
          <li class="nav__item">
            <a class="nav__link" href="goods.html">–¢–æ–≤–∞—Ä—ã</a>
          </li>
          <li class="nav__item nav__item--active">
            <a class="nav__link" href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
          </li>
        </ul>
      </nav>
      <main class="main">
        <section class="contacts">
          <h2 class="contacts__title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
          <div class="contacts__list">
            <div class="contact-item">
              <h3 class="contact-item__title">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞</h3>
              <p class="contact-item__value">golovushkina@mirea.ru</p>
            </div>
            <div class="contact-item">
              <h3 class="contact-item__title">–ê–¥—Ä–µ—Å</h3>
              <p class="contact-item__value">
                –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. –ö–æ–ª–æ—Ç—É—à–∫–∏–Ω–∞
              </p>
            </div>
          </div>
          <button
            class="button button--primary contacts__button"
            onclick="contactModal.showModal()"
          >
            –°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏
          </button>
        </section>
      </main>
      <footer class="footer">
        <p class="footer__text">–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</p>
      </footer>

      <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ñ–æ—Ä–º—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ -->
      <dialog id="contactModal" class="modal">
        <div class="modal__header">
          <h2 class="modal__title">–§–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏</h2>
        </div>
        <div class="modal__content">
          <form id="feedbackForm" method="dialog" class="form">
            <div class="form__group">
              <label for="name" class="form__label"
                >–ò–º—è <span class="form__required">*</span></label
              >
              <input
                type="text"
                id="name"
                name="name"
                required
                placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è"
                class="form__input"
              />
            </div>
            <div class="form__group">
              <label for="phone" class="form__label"
                >–¢–µ–ª–µ—Ñ–æ–Ω <span class="form__required">*</span></label
              >
              <input
                type="tel"
                id="phone"
                name="phone"
                required
                placeholder="+7 (XXX) XXX-XX-XX"
                class="form__input"
              />
            </div>
            <div class="form__group">
              <label for="email" class="form__label"
                >–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞ <span class="form__required">*</span></label
              >
              <input
                type="email"
                id="email"
                name="email"
                required
                placeholder="example@mail.ru"
                class="form__input"
              />
            </div>
            <div class="form__group">
              <label for="category" class="form__label"
                >–ö–∞—Ç–µ–≥–æ—Ä–∏—è –æ–±—Ä–∞—â–µ–Ω–∏—è
                <span class="form__required">*</span></label
              >
              <select
                id="category"
                name="category"
                required
                class="form__select"
              >
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                <option value="technical">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</option>
                <option value="commercial">
                  –ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (–æ–¥–æ–±—Ä—è–µ–º)
                </option>
                <option value="cooperation">–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ</option>
                <option value="suggestion">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</option>
                <option value="other">–î—Ä—É–≥–æ–µ</option>
              </select>
            </div>
            <div class="form__group">
              <label for="message" class="form__label"
                >–¢–µ–∫—Å—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è <span class="form__required">*</span></label
              >
              <textarea
                id="message"
                name="message"
                required
                placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É –∏–ª–∏ –≤–æ–ø—Ä–æ—Å..."
                class="form__textarea"
              ></textarea>
            </div>
            <div class="modal__actions">
              <button
                type="button"
                class="button button--secondary"
                onclick="closeModal()"
              >
                –û—Ç–º–µ–Ω–∞
              </button>
              <button
                type="button"
                class="button button--primary"
                onclick="submitForm()"
              >
                –û—Ç–ø—Ä–∞–≤–∏—Ç—å
              </button>
            </div>
          </form>
        </div>
      </dialog>

      <script>
        // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
        class ThemeSwitcher {
          constructor() {
            this.themeToggle = document.getElementById("themeToggle");
            this.currentTheme = localStorage.getItem("theme") || "light";

            this.init();
          }

          init() {
            this.setTheme(this.currentTheme);
            this.themeToggle.addEventListener("click", () =>
              this.toggleTheme()
            );
          }

          toggleTheme() {
            this.currentTheme =
              this.currentTheme === "light" ? "dark" : "light";
            this.setTheme(this.currentTheme);
          }

          setTheme(theme) {
            document.documentElement.setAttribute("data-theme", theme);
            localStorage.setItem("theme", theme);
            this.updateButton(theme);
          }

          updateButton(theme) {
            const button = this.themeToggle;
            if (theme === "dark") {
              button.setAttribute("aria-label", "–í–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É");
              button.classList.add("theme-switcher__button--dark");
            } else {
              button.setAttribute("aria-label", "–í–∫–ª—é—á–∏—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É");
              button.classList.remove("theme-switcher__button--dark");
            }
          }
        }

        function closeModal() {
          const modal = document.getElementById("contactModal");
          const form = document.getElementById("feedbackForm");
          modal.close();
          form.reset();
        }

        function submitForm() {
          const form = document.getElementById("feedbackForm");
          const formData = new FormData(form);

          if (!form.checkValidity()) {
            form.reportValidity();
            return;
          }

          const data = {
            name: formData.get("name"),
            phone: formData.get("phone"),
            email: formData.get("email"),
            category: formData.get("category"),
            message: formData.get("message"),
          };

          console.log("–î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã:", data);
          alert(
            "–°–ø–∞—Å–∏–±–æ! –í–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è."
          );
          contactModal.close();
          form.reset();
        }

        document
          .getElementById("contactModal")
          .addEventListener("click", function (event) {
            if (event.target === this) {
              this.close();
            }
          });

        document
          .getElementById("feedbackForm")
          .addEventListener("keypress", function (event) {
            if (event.key === "Enter" && event.target.type !== "textarea") {
              event.preventDefault();
            }
          });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener("DOMContentLoaded", () => {
          new ThemeSwitcher();
        });
      </script>
    </div>
  </body>
</html>
